## API 서버 관련 내용
- **클라이언트 프로그램에서 요청을 날렸을 때 API 서버가 받아서 뭔가를 수행하고 응답을 해주는 과정이다. 이 API 서버를 Django REST Framework가 만들어 줄 수 있는 것이다.** 
  - **클라이언트에는 대표적으로, 프론트엔드 개발자들이 html/css/JavaScript를 가지고서 리액트나 뷰를 사용해서 프론트쪽을 구현한 웹 앱 프로그램이 있으면 그 프로그램이 API 서버에 요청할 수 있다.**
  - **그리고, 또 다른 클라이언트에는 일반적인 모바일 안드로이드나 iOS 개발자들 경우에도 API 서버로 요청을 날려서 응답을 받는 경우가 존재한다.**

- API로 서버를 구성하게 될 경우에는, 플랫폼에 종속적이지 않다는 장점이 있다. 클라이언트가 웹이나 안드로이드, iOS인 프로그램들은 하나의 API 서버만 통하면 되는 것이기 때문이다. 그냥 요청이 오면 응답을 해주면 되기 때문이다. 
- 요즘에는 모바일에 대한 비율이 굉장히 큰데, 그렇다고 해서 웹을 안 만들수는 없다. 어쨌든 이렇게 다양한 클라이언트에 대해 API 서버는 종속적이지 않고 API 서버를 구축할 수 있다.
- 우리가 기존에 django로 개발을 했을 때는 웹으로 만들어진 것이기 때문에 안드로이드나 iOS와 같은 모바일에서 요청을 날리게 되면 응답을 해줄 수가 없다. 그렇기 때문에 별도의 모바일 전용 서버를 만들어야 하는데, 아예 처음부터 API 서버를 만들어서 효율적인 개발을 할 수 있다. 



## Django REST Framework란
- 하나의 python 라이브러리라고 보면 된다. 공식문서는 https://www.django-rest-framework.org/ 다음과 같다.
- DRF는 django를 기반으로 웹 API를 구축할 수 있도록 기능 등을 만들어 놓은 툴킷. 그러니까 django위에서 동작하는 프로그램이다. 
- RESTful한 API 형태의 기능을 제공.
- 여기서는 우리가 CBV 즉, Class 기반의 View를 무조건 사용해야 한다. 그래야지 정말 간편하게 코드를 짤 수 있게 때문이다.


## DRF의 장점
- API 개발을 쉽게 만들어준다. 
- 간편로그인과 같은 인증 정책 OAuth1, OAuth2 사용 가능.
- DRF의 가장 강력한 점인, Serializer(직렬화) 기능을 제공. 즉, Model이 JSON으로 바뀌고 JSON이 Model로 바뀐다. 
- 문서화가 잘 되어있고 커뮤니티가 잘 되어있다. 


## DRF의 역할
- 클라이언트에서 요청했을 때 응답 및 처리해주는 게 전부이다. (바탕화면 DRF 처리 과정 확인하기)


## DRF 처리 과정
- 먼저 클라이언트가 GET 요청으로 http://127.0.0.1:8000/posts/ 와 같이 HTTP 요청을 한다면 --> 이걸 API 서버인 DRF가 받아서 --> 데이터베이스 서버에 또 요청을 해서 DB 데이터를 가져오고 --> 다시 API 서버인 DRF가 클라이언트한테 HTTP 응답을 해주게 된다.
  - 이 때, HTTP 응답은 JSON 형태로 날라갈 것이다.(딕셔너리 형태와 비슷) 
  - ex) 
  
  ```terminal
  HTTP/1.1 200 OK 
  { 
      "id": "1",
      "title": "첫 번째 게시글",
      ...
  }
  ```
  
  - **그래서 클라이언트 쪽에서는 이 요청을 하는 것과 응답을 받았을 때 이 JSON 데이터를 활용하는 부분에 대한 기능을 구현해줘야 한다.** 기존에는 html 자체를 랜더링 해주기 위해 html파일을 응답해줬는데, 여기서는 JSON 형태의 텍스트 값, 문자열을 그냥 응답해주는 것이기 때문에 클라이언트가 이 값을 받아서 직접적으로 사용을 할 수 있도록 별도의 개발이 필요하다는 것이다. 클라이언트 프로그램들은 이러한 값들을 가공해서 알아서 사용할 것이다.
  - 그래서 프론트엔드와 백엔드가 분리될 수 있다.


## DRF의 핵심 요소
1. 요청/응답의 형태가 기존의 django와 다르다. HTML 파일이 아닌 JSON 형태의 데이터를 응답해준다. django의 요청/응답과는 다르며, 그걸 포함하고 있지만 다른 코드들이 작성되어있다.
2. View와 ViewSet : django에서는 CBV가 있었는데, 여기서도 View와 ViewSet이라는 클래스가 DRF를 개발하기 위해 존재한다.
3. 라우터 : URL과 같다고 보면 되는데, DRF에서는 라우터를 사용해서 URL 패턴을 정의해준다. 
4. 직렬화 : 가장 중요한 개념 / django의 Form에 해당할 수 있다. 
5. 인증/권한 : API 스럽게 인증/권한 기능을 제공한다.
6. 페이징/필터 : 페이징 처리나 필터 기능도 제공한다. 
  
