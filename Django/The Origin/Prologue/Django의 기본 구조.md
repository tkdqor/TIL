## Django의 기본 구조

### MTV 디자인 패턴 1
- django 내부에서 코드 설계 즉, 디자인이 어떻게 되어있는지 설명하는 것이다.
- M은 Model로 데이터 관리 및 데이터베이스와 연결과 실행을 담당한다. (models.py)
- T는 Template으로 데이터 출력의 역할을 하고 사용자에게 데이터를 어떻게 표현할지 표현방식을 정의한다. (html)
- V는 View로 컨트롤러를 의미. 비즈니스 로직을 처리한다. 사용자가 로그인 페이지를 주라고 요청했을 때 --> 이 View가 로그인 페이지 줄께 하고 응답을 해준다. (views.py) 
  - queryset API나 Form 등을 View에서 가져다가 쓰게 된다.


### MTV 디자인 패턴 2
- **그래서 이 디자인 패턴은, 클라이언트가 요청을 보내게 되면 먼저 View(컨트롤러 역할)가 받는다.**
- 그리고나서 Model(데이터 관리)의 데이터를 조회를 하거나 데이터 추가, 수정, 삭제를 할 것이 있다면 Model를 실행시켜서 Model로부터 응답을 받는다. View가 직접 하는 게 아니라 Model를 시키는 것이다.
- 그리고 html에 대해서 뭔가 할 게 있다면 template(데이터 출력 역할), html를 불러서 실행시키고 받아서 응답을 해주는 게 View가 해주는 것이다. 이것도 View가 template를 시켜서 데이터를 보여주는 것이다.
  - 즉, View가 Model한테 데이터를 받아서 -> template한테 던져준다. -> 그 template이 데이터를 보여주게끔 View가 응답한다.

- 프레임워크가 구조를 갖고 있다고 했는데 --> 즉, django라는 프레임워크는 이러한 구조를 갖고 있다고 볼 수 있다.
  - 이렇게 구조가 잡혀있기 때문에 체계적으로 코드가 관리되고 내가 작성한 코드도 다른 django 개발자가 오면 볼 수 있는 것이다. 그래서 유지보수에 용이하다.
  - **순서는 보통 요청이후 View에서 Model써서 데이터 요청하고 데이터 받아서 Template을 써서 데이터 화면을 구성하고 응답해주는 순서로 간다.**



### Django 실행 흐름
- **브라우저가 요청을 보내게 되면 urls.py가 먼저 url pattern를 확인하고 views.py로 보낸다.**
  - **그리고 View에서 Model을 호출해서 실행시키고 데이터를 받는다. 그리고 데이터를 출력하기 위해 Template를 호출해서 실행시키고 html를 받는다. 그래서 마지막으로 View가 응답을 해준다. 이게 기본적인 django 흐름이다.**
  - **이 과정에서 Model 호출은 필요없다면 안해도 된다.**
  - **또한, Django Rest Framework API 관련해서는 데이터 출력을 할 필요가 없다. 그냥 텍스트만 응답을 하기 때문에 Template를 사용할 필요가 없다. 그래서 Template도 선택사항이다.** 
  - 그래서 View만으로도 요청을 받고 응답을 해줄 수 있다.

- 이러한 실행 흐름과 디자인 구조를 잘 알고 있어야 오류를 빠르게 파악하고 해결할 수 있다.
