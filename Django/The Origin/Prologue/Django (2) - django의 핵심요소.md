## Django (2)


### django 핵심 요소
- 크게 8가지이다.
- **Python / ORM / Templates / Forms / Authentication / Admin / Internationalization / Security**
  - django 공식 문서에도 python을 제외한 7가지가 나와있다.


### ORM
- **하나의 기술로서 Object-Relational Mapping의 약자. 즉, 객체와 관계형 데이터베이스를 연결해준다라는 그런 기술이다.**
- DBA라고해서 데이터베이스 어드민이라는 직무가 따로 있다.
- 객체지향 언어와 관계형 데이터베이스에 SQL를 날린다든지 등 다른 분야이기 때문에 이런걸 객체지향에서 수월하게 사용할 수 있게 다른점을 연결해주는 기술이라고 보면 된다.
  - django의 경우, 이 ORM이 내부에 내장되어있다. django 자체에 ORM이라는 기술이 들어가 있기 때문에, 잘 활용하면 좋다.
- **Models와 QuerySet API 등이 대표적으로 django ORM 기능을 수행해주는 그런 클래스, 모델등의 모듈이라고 보면 된다.**
- 또한, ORM은 백엔드 개발자로봤을 때 프로그래밍 기술중에 하나이다. Flask는 내장 ORM이 없기 때문에 python ORM를 사용한다. 다른 spring과 같은 프레임워크에서도 다른 ORM들이 존재하게 된다.
  - ORM를 꼭 써야되는 건 아니다. 사용안해도 개발 가능하다. 관계형 데이터베이스랑 객체를 연결시켜주는 기술이니까 연결 안 시켜줘도 우리가 직접 연결할 수는 있다. 그렇지만 시간이 오래걸린다.
  - 그래서 ORM를 사용하면, 우리가 프레임워크로 비즈니스 로직을 개발하는데 더 집중을 할 수 있다.
  - 배달의 민족에서도 자바 스프링 기반의 프로젝트에서 JPA라고해서 자바 ORM를 많이 사용한다. 

- 그래서 ORM를 사용할필요는 없지만, 대부분 사용하고 효율적으로 이용할 수 있다.


### Templates
- **이게 있기 때문에 django가 풀스텍 프레임워크라고도 할 수 있는 것이다. 프론트엔드 개발자가 해야되는 html, css, js 이런 부분에서 html자체에 include, if, for 등 템플릿 언어들을 사용할 수 있다. 
  이러한 언어들을 사용할 수 있기 때문에 풀스텍 프레임워크라고 볼 수 있다.**
  - 이게 가능한 이유가 Templates가 있기 때문이다. django는 자체 템플릿 시스템이 있다. 그래서 디자인적인 부분과 로직을 분리하여 독립적으로 개발할 수 있다. 그래서 유지보수에 용이하다.
- 그리고 html을 분리해서 재사용이 가능하다. html은 계속해서 바뀔 가능성이 크고 반복되는 것도 많아서 쳬계적으로 관리하는 게 중요하다.
  - **html 파일을 하나 빼놓고 그걸 include로 가져다가 반복적으로 사용. 이게 정말 큰 장점이다.**


### Forms
- **html에서 form이라는 tag가 있는데 여기서 input이나 submit과 같은 tag들을 사용해서 데이터 입력을 받을 수 있고, 그 입력받은 데이터의 유효성 검사를 해줄 수 있다. 정말 중요한 의미이다.**
- django는 백엔드 개발에 있어 정말 중요한 유효성 검사 부분에서도 기본적으로 제공해준다.
  - **ex) 우리가 핸드폰 번호를 받을 때, 하이픈을 빼고서 번호만 받는다고 해보자. 그러면 11자리를 받는다고 했을 때, 회원가입 시 phone이라는 필드로 데이터를 받고 이게 11자리인지 검증을 해야될 것이다.
    또, 이게 숫자만 있는 게 맞는지 확인도 해줘야 할 것이다. --> 이런것들을 form이 검사를 해준다는 것이다.** 그래서 form은 데이터 유효성 검사를 해주는 역할을 할 수 있다.
- 그리고 html form 태그에서도 input의 type이 text도 있고 date도 있고 여러가지 type들이 있는데, 그 form 태그 자체를 생성해준다. 
  - **<form> 이렇게 해서 내부에 <input> 이렇게 구성했을 때 -> 이 form를 브라우저에 보여지게 생성해주는 역할도 Form이라는 게 해주는 것이다.** 원래라면 html에서 우리가 직접 코드를 작성해야
    하는데, django의 form이라는 기능을 사용하면 그 form tag를 만들어준다. 
- 또한, 제출하는 폼 데이터의 변경을 확인해줄 수 있다. 데이터 유효성 검사 이후 -> 이 데이터가 바뀌었는지 아닌지를 판단할 수 있다.


### Authentication
- **이건 인증 기능이고 auth라고 많이 부른다. 이런 부분이 django에 기본적으로 내장되어 있다.**
- 주로 시스템 인증과 권한을 체크해준다. 권한부여를 기본적으로 제공한다.
  - **인증은 --> 사용자가 누군인지 판별하는 것이다. 그래서 사용자가 로그인을 하면 이 사람은 인증이 된 사용자야 하면서 판단을 해주는 것이다.**
  - **권한은 --> 내가 쓴 글은 수정할 수 있게 봐주는 게 권한이다. 즉, 인증된 사용자가 어떤 일을 할 수 있는지 결정하는 것이다.**
  - django에서 말하는 권한 중 하나는, 내가 게시글을 쓸 수 있는 권한이 있냐 없냐에 대한 권한도 있다.
  
- django 인증의 구성 요소로는, 사용자 / 권한 / 그룹(권한을 둘 이상 적용하는 방법)

  
  
### Admin
- **관리자 인터페이스 제공 기능이다. 이걸 제공하지 않는 프레임워크도 정말 많다.**
- 일반적으로 유튜브와 같은 서비스가 제공되면, 영상 제재도 해야되고 약관에 위배되는 영상들이 올라오면 수정 및 삭제를 진행한다. 또한, 인증되지 않은 유령 사용자가 나온다고 하면, 밴을 하는 등 내부적으로 CS를 제공하고 이러한 행동들을 해야 한다. 즉, 유튜브를 만들어도 우리가 쓰는 일반적인 사용자 사이트가 있고 / 관리자가 사용하는 관리자쪽 서비스, 사이트가 따로 있다. 
- 그래서 보통 서비스가 하나나오면 --> 프로젝트는 2개라고 보면 된다. 일반 사용자들이 쓰는 프로젝트와 관리자쪽이 쓰는 프로젝트 이렇게 2개이다.
  - 반면에 django는 Admin 기능으로 관리자 인터페이스를 제공해준다.
  - **등록된 모델의 기본적인 조회, 추가, 수정, 삭제 기능을 제공해준다. 이게 엄청나게 좋은 기능이다.**
- 또한, 사용자 관리, 사용자 그룹 관리, 사용자 별 권한을 부여하는 기본 기능을 제공한다. 우리가 데이터에 접근할 수 있는 등급들에 차이가 있을텐데, 관리자가 있을 것이고 CS 대응자가 있을텐데 권한을 관리할 수 있는 것도 기본적으로 제공된다.
  
  

### Internationalization
- **국제화, 다국어화라고 한다. 동일한 소스코드로 텍스트의 번역, 날짜/시간/숫자의 포맷, 타임존의 지정 등과 같은 다국어 환경 제공.**
- 만약 우리가 서비스를 국내에서 하다가 해외에서 한다고 하면, 날짜/시간/숫자/타임존 이러한 부분들을 전부 다 바꿔줘야 한다.
  - 근데, django는 기본적으로 다국어가 적용되는 기능이 있기 때문에 설정이 조금 필요하지만 동일한 코드로 바꿀 수 있다.
  - 그래서 특정 사용자의 기본 설정에 따라 웹 앱을 현지화할 수 있다.
    - 우리가 크롬 브라우저를 써도 영어로 쓸 수 있고, 한국어로 쓸 수 있고 다양한 언어로 쓸 수 있다. 그걸 설정해놓으면 그 언어에 맞게 던져준다. 외국 사람이 우리나라에 와서 영어를 선택하면 영어로 출력된다. 이러한 기반적인 것들이 django에서 제공해준다.

  
  
### Security
- **django는 보안사항 기능 여러가지를 제공해준다.**
- **CSRF(교차 사이트 요청 위조) 보호 / 호스트 헤더 유효성 검사 / SQL 주입 보호 / 리퍼러 정책 / XSS(교차 사이트 스크립팅) 보호 / 교차 출처 정책 / 클릭재킹 방지 / 세션 보안 / SSL/HTTPS**
  - CSRF는 우리가 로그인 페이지를 요청하면 그 페이지를 주는데 서버입장에서는 응답해주지 않은 페이지에서 요청이 들어올 수도 있다.  무분별하게 요청을 날리게 되면 서버가 응답하지 않은 페이지들을 잘라버리는 것이다. 이건 잘못된 요청이라고 해서 막아버린다. 
  - SQL 주입 보호는, 데이터베이스쪽에 sql를 날리는 부분인데 우리가 옛날에 아이디/비밀번호 로그인을 할 때, 아이디는 그냥 치고 비번에 1를 친다. 보통 0은 False고 1은 True이다. 그래서 1이 통과가 되서 넘어가는 사례들이 있었다. 그래서 입력하는 데에서 이상한 sql문이 들어오고 그러면 django가 그것에 대해서 대응을 해준다. 그래서 우리는 이런 부분들을 신경쓰지 않아도 기본적인 기능에서 구현할 수 있다. 
  
- 보안 관련해서 국제 기구가 있다. 거기에서 이런것들은 대응해야 한다고 지침을 준다. https://owasp.org/www-project-top-ten/ 를 참고.  
