## 체크리스트 구현하기
- CreateView를 활용해서 체크리스트 구현해보기


### 실습하기
- 먼저 View 코드부터 수정. 새롭게 CreateView를 상속받는 ChecklistCreateView라는 클래스를 생성해보자.
```python
# 체크리스트 만들기
def ChecklistCreateView(CreateView):
    model = ChecklistItem
    fields = ['content']
    template_name = 'pages/checklist_create.html'
    success_url = '/task/'

    def get_success_url(self):
        return self.success_url + str(self.kwargs['task_id']) + '/' 
    
```


- 그리고 model에는 ChecklistItem 모델로 설정하자. 그리고 fields에는 content 필드만 설정하기.
- **여기서 중요한 건, fields에는 사용자로부터 입력받을 필드만 지정을 하고 코드에서 직접 처리할 값은 form valid method에서 코드로 대입하도록 한다. form valid method 내에서 form이 넘어올 때 commit flag를 first로 넘겨서 데이터베이스에는 저장이 안된 상태로 모델 인스턴스를 return 받은 다음에, 이 인스턴스의 task 필드에 추가할 task를 대입하도록 구현을 해야 한다.**
- 완료가 되면 sucess_url로 task 페이지로 돌아가게끔 설정.
  - 이 때, task의 id는 우리가 path parameter로 전달받도록 설정되어있다. 그래서 success_url = '/task/' -> 이 부분이 문제가 되는 게, 체크리스트의 생성이 완료가 되면 하나의 task 상세 페이지로 가야되기 때문에 예를 들어 task/1/ 이러한 url로 가야된다.(할일 번호 1번) 그래서 가변적으로 바뀌어야 한다.
  - **이러한 task_id가 path parameter로 전달받도록 되어있다. 이 값을 여기서 조회하려면 -> get_sucess_url(self): 이라는 메소드를 overide를 해서 작업을 해줘야 한다. kwargs라는 멤버 필드를 통해서 task_id를 조회할 수 있다. 이렇게 특정 path parameter를 조회하려면 self.kwargs의 딕셔너리의 파라미터명인 task_id로 접근할 수 있다.** 그래서 기존 url에 덮어쓰도록 +해서 작업을 한다.

- 


### 참고사향 - Generic View Class의 요청 파라미터 접근
- Generic View 내에서 접근을 할 때 사용하는 코드
  - **Generic View Class의 특징은 기본적으로 -> 요청을 받으면, 받아서 어떤 함수(메소득)가 실행이 된다면 반드시 아래와 같이 현재 자기자신의 request 멤버 변수에는 HttpRequest 객체가 잘 들어가 있게 된다. 그런데 예외적으로 path 파라미터만 kwargs라는 것으로 들어가 있다.**
- HttpRequest에 접근할 때는 -> self.request
- 쿼리 파라미터에 접근할 때는 -> self.request.GET
- 폼 파라미터에 접근할 때는 -> self.request.POST
- path 파라미터에 접근할 때는 -> self.kwargs



