# Network

📖 **Contents**

- Network
  - [API란](#api란)
  - [Web이란](#web이란)
  - [DNS의 역할](#dns의-역할)
  - [HTTPS와 HTTP](#https와-http)
  - [쿠키와 세션](#쿠키와-세션)



* * *

## API란
- Application Programming Interface의 약자로, front-end가 back-end에 요청을 할 때 특정 규칙에 맞게 요청해야 하는데 이러한 사용 규칙을 제공하는 것을 API라고 한다. 웹 서버 따로 API 서버를 따로 구축할 수 있다.

### open API
- 누군가가 back-end를 만들어놓고 여기에 주소와 사용 규칙을 공개한 것을 의미. 
- 그래서 우리는 이 back-end의 사용규칙과 주소만 알면, front-end만 만들어도 얼마든지 요청하고 데이터를 가져와서 사용할 수 있다. 우리가 규칙에 맞게 전송하기만 하면, 지도 / 결제 / 채팅 등 다양한 기능들을 사용할 수 있다.
  - ex) 우리가 카카오 책 검색 open API 서버 주소로 어떤 책에 대한 정보를 요청하면 -> API 서버에서는 자체 DB를 뒤져서 우리가 원하는 정보를 다시 전달해준다.
- 이러한 요청과 응답은 정해진 API 형식에 맞춰서 전달해야 한다. 이러한 형식이 작성된 문서를 **API 가이드**라고 한다. 요즘에는 거의 모든 API에서 JSON형태로 정보가 전달된다.

### open API를 통해 받은 JSON
- open API를 통해 받은 JSON 데이터를 실제 HTML 파일에 출력하려면 -> JSON 데이터를 JavaScript로 접근해야 한다.
- 해당 JSON 데이터를 JavaScript로 console에 표시할 수 있다.
  - 그리고나서, Jquery를 이용해 -> html의 특정 element에 어떤 요소를 넣어줄 수 있다.
  - <script></script> 이렇게 JavaScript 코드 사이에 HTML 특정 element를 설정하고 해당 데이터를 보여줄 수 있다.

- [참고 자료](https://enjoyinjoanne.tistory.com/56)


* * *

## Web이란

- 정확한 의미의 '인터넷'은 수많은 컴퓨터들이 연결되어서 데이터를 주고받을 수 있는 네트워크, 공간을 의미
- 우리가 편하게 사용하고 있는 무선 인터넷이나 WiFi와 같은 것들도 궁극적으로는 유선으로 연결되어 있음 
- 그래서 수없이 많은 컴퓨터가 네트워크로 연결되어 있고, 그 네트워크 안에 또다른 네트워크가 존재하기 때문에 우리는 이것을 '인터넷'이라고 부른다.
- 우리가 인터넷을 사용한다는 것은, 우리가 이 네트워크에 컴퓨터로 접속해서 각종 텍스트나 이미지, 동영상 등의 데이터를 서로 주고 받는 것을 의미. 그것을 하나의 페이지로 주고받는 경우를 '웹 페이지'라고 볼 수 있다.

- 이 인터넷 내에서 데이터를 주고받는 방법 중 하나가 바로 '웹 서비스' 이다. 따라서 엄밀히 말하면 인터넷과 웹은 같은 의미로 볼 수 없다.
- 인터넷을 활용한 서비스 종류에는 웹 이외에도 파일 전송을 위한 FTP 서비스, 메일 서비스 등이 있다.

### 웹 서비스에서 컴퓨터 간 데이터를 주고받는 방법

- 데이터를 요청하는 쪽을 Client, 그 요청에 응답하는 쪽을 Server라고 한다.
- client가 server에게 얻고자 하는 데이터를 요청하면 -> server는 그러한 데이터를 찾아서 전달해주는 역할.
- 주로 client에서 웹 브라우저를 통해서 데이터를 request하게 되고, 그 request에 대해서 server가 HTML 파일 웹페이지를 response로 전달.
- 이 때, server에 데이터를 요청하려면 IP Address(Internet Protocol Address)가 필요 -> 컴퓨터가 네트워크에 접속했을 때 반드시 부여받게 되는 하나의 주소체계를 의미.
  - IP Address는 총 4개의 섹션으로 구분되어 있고, 각 섹션은 0~255 범위의 10진수 숫자로 표현됨 ex) 125.209.222.142
- 다만, 이러한 IP 주소를 모두 외울 수는 없으니, client가 텍스트로 이루어진 주소로 요청하게 되면 -> 그에 맞는 IP Address로 변환해서 서버를 찾을 수 있게끔 해주는 것.
  - 이렇게 IP Address를 기억하기 쉽게끔 이름을 부여한 것을 우리는 "Domain" 이라고 한다.
  - 그리고 이 Damain과 IP Address를 양방향으로 변환할 수 있게끔 해주는 것이 바로 **Domain Name System, 줄여서 DNS**라고 한다.

### HTTP

- 웹 서비스에서 데이터를 주고받을 때 반드시 지켜야 할 통신 규약
- HTTP는 Hyper Text Transfer Protocol의 약자로 Hyper Text가 웹사이트에서 볼 수 있는 링크, 하이퍼 링크를 의미. 그리고 Protocol은 규칙, 규약에 해당.
- 웹 서비스 등 해당 서비스에 맞게 정확한 프로토콜을 따라야 데이터를 원하는대로 주고받을 수 있다.
- 우리는 앞으로 웹 페이지를 만드는 방법에 대해서 배울 것이고, 이러한 웹 페이지(HTML파일)를 주고받으려면 HTTP에 대해서 알아야 한다.
> - [HTTP 관련 MDN 내용](https://developer.mozilla.org/ko/docs/Web/HTTP/Overview)


* * *

## DNS의 역할
- **IP주소와 도메인명을 서로 교환해주는 장치를 DNS(Domain Name System)라고 한다.**
- DNS 서버는 **캐시 서버**와 **콘텐츠 서버**로 나뉜다.
  - 클라이언트인 웹 브라우저가 인터넷에서 도메인명으로 엑세스할 때 --> 캐시 서버는 받은 도메인명의 맨 오른쪽부터 순서대로 검색하여, 해당 도메인명을 관리하는 콘텐츠 서버들을 하나씩 찾는다. 그래서 마지막으로 콘텐츠 서버를 찾게 되면 해당 서버가 호스트명 + 도메인명에 대응하는 IP주소를 알려주게 되고, 캐시 서버는 이 IP주소를 웹 브라우저에게 알려주면서 해당 사이트로 접속할 수 있게 해준다. 이러한 동작을 **이름 해결** 이라고 한다.

- 도메인명은 ‘www.examaple.co.kr’ 와 같이 점으로 구분된 문자열로 구성되어 있다. 하나하나 문자열을 **라벨**이라고 하고 오른쪽부터 순서대로 탑레벨(제1레벨) 도메인, 제 2레벨 도메인, 제 3레벨 도메인 이렇게 부른다.
  - 즉, 트리모양의 계층 구조로 이루어져 있다.

- [참고 자료](https://goodgid.github.io/Server-DNS/)


* * *

## HTTPS와 HTTP
- **HTTP**는 Hyper Text Transfer Protocol의 약자로 서버와 클라이언트간에 데이터를 주고 받는 프로토콜을 의미한다. **80번 포트**를 사용하고 있으며 텍스트, 이미지,영상, JSON 등등 거의 모든 형태의 데이터를 전송할 수 있다. 다만, HTTP는 암호화가 되지 않은 평문 데이터를 전송하는 프로토콜이기 때문에, HTTP로 비밀번호나 주민등록번호 등을 주고 받으면 제3자가 정보를 조회할 수 있는 문제점이 있다.
- **HTTPS**는 Hyper Text Transfer Protocol Secure의 약자로 HTTP에 데이터 암호화가 추가된 프로토콜이다. HTTPS는 443번 포트를 사용하고 있고 네트워크 상에서 중간에 제3자가 정보를 볼 수 없도록 암호화를 지원한다.
  - HTTPS는 **SSL(Secure Sockets Layer)** 이라는 보안계층 위에 HTTP를 얹어서 보안이 보장된 통신을 하는 프로토콜로 이러한 통신 방식을 **SSL 암호화 통신**이라고 한다. 이 SSL 암호화 통신은 공개키 암호화 방식의 알고리즘으로 구현된다.
  - **공개키 암호화 방식**에는 **공개키와 개인키 두 종류의 키가 존재**한다. 공개키는 모두에게 공개가능한 키 / 개인키는 나만 가지고 알고 있어야 하는 키라고 생각하면 된다. 한쪽 키로 데이터를 암호화 했다면 오직 다른쪽 키로만 복호화를 할 수 있다. 개인키는 보통 서버를 운영하는 회사가 가지고 공개키는 CA(Certificate Authority)라는 인증받은 기업들에서 관리하게 된다. 
  - CA는 서버 운영 기업이 넘겨준 공개키를 인증서 발급자, CA의 이름 등과 함께 묶어서 CA가 가지고 있는 개인키로 암호화해서 **SSL인증서**로 발급한다. 그리고 클라이언트에서 요청을 하면 서버는 클라이언트에게 SSL 인증서를 보낸다. 브라우저(클라이언트)는 대표적인 CA들의 리스트와 그들의 공개키를 보유하고 있다. 만약 인증서에 적힌 CA의 이름과 브라우저가 소유하고 있는 CA 이름이 같다면 CA의 공개키로 SSL 인증서를 복호화한다. 이제 SSL내부에 들어있던 서버의 공개키를 가지고 요청을 암호화해서 서버에게 보낸다. 서버측은 가지고 있는 개인키로 요청을 복호화하여 해석하고 응답은 다시 암호화 해서 보내게 된다. 이 과정을 통해 보안성이 강한 통신을 할 수 있게 된다.

- [관련 블로그](https://devjem.tistory.com/3#HTTPS%EB%-A%--%--%EC%--%B-%EB%--%A-%--%EB%B-%A-%EC%-B%-D%EC%-C%BC%EB%A-%-C%--%EB%B-%B-%EC%--%--%--%EC%-D%B-%EC%-A%--%EB%A-%BC%--%ED%--%B-%EA%B-%B-%ED%--%--%EB%-A%--%EA%B-%--%-F)
  - [관련 블로그 2](https://mangkyu.tistory.com/98)


* * * 

## 쿠키와 세션
- **쿠키 : 방문자의 정보를 방문자 컴퓨터의 메모리에 저장하는 것 ex) ID나 비밀번호를 저장하거나 방문한 사이트를 저장하는 데 사용** 
- **세션 : 방문자의 요청에 따른 정보를 방문자 메모리에 저장하는 것이 아닌 웹 서버가 세션 아이디 파일을 만들어 서비스가 돌아가고 있는 서버에 저장을 하는 것**
  - 즉, 프로세스들 사이에서 통신을 하기 위해 메시지 교환을 통해 서로를 인식한 이후부터 통신을 마칠 때까지의 기간동안 서버에 잠시 방문자 정보를 저장한다는 것. 세션이란 일정 시간동안 같은 사용자(정확하게 브라우저를 말한다)로 부터 들어오는 일련의 요구를 하나의 상태로 보고 그 상태를 일정하게 유지시키는 기술이라고 한다. 또한 여기서 일정 시간이란 방문자가 웹 브라우저를 통해 웹 서버에 접속한 시점으로부터 웹 브라우저를 종료함으로써 연결을 끝내는 시점을 말하며 즉, 방문자가 웹서버에 접속해 있는 상태를 하나의 단위로 보고 세션이라고 칭한다는 것.
  - 그래서 쿠키와 달리 세션은 사용자들의 로그인 정보에 대한 보안을 한층 업그레이드 할 수 있어 웹사이트에 방문하여 계속 접속을 유지할 때 이전의 접속 정보를 이용할 수 있는 방법으로 많이들 사용하는 것이다.
  - HTTP Session 동작 순서 : 클라이언트(사용자)가 서버로 접속(http 요청)을 시도 --> 서버(웹)는 접근한 클라이언트의 request-header field인 cookie를 확인해 클라이언트가 해당 session-id를 보내왔는지 확인 --> 만약 클라이언트로 부터 발송된 session-id가 없다면, 서버는 session-id를 생성해 클라이언트에게 response-header field인 set-cookie 값으로 session-id(임의의 긴 문자열)를 발행(응답)

- [참고 자료](https://88240.tistory.com/190)
  - [참고 자료 2](https://hoonihoon.tistory.com/entry/%EC%BF%A0%ED%82%A4Cookie-%EC%99%80-%EC%84%B8%EC%85%98Session-%EA%B0%9C%EB%85%90)



