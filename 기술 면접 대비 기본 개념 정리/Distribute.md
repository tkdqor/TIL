# Distribute

ğŸ“– **Contents**

- Distribute
  - [django ë°°í¬ ê´€ë ¨](#django-ë°°í¬-ê´€ë ¨)
  - [AWS EC2 ssh ì—°ê²°í•˜ê¸°](#aws-ec2-ssh-ì—°ê²°í•˜ê¸°)
  - [uWSGIë€](#uwsgië€)
  - [DNS, DNS ì„œë²„ë€](#dns-ê·¸ë¦¬ê³ -dns-ì„œë²„ë€)
  - [Collectstatic ëª…ë ¹ì–´](#collectstatic-ëª…ë ¹ì–´)
  - [CIë€](#cië€)
  - [ì»´íŒŒì¼ì´ë€](#ì»´íŒŒì¼ì´ë€)
  - [ë¹Œë“œë€](#ë¹Œë“œë€)
  - [ë””íœë˜ì‹œë€](#ë””íœë˜ì‹œë€)
  - [MSAë€](#msaë€)
  - [unittest ì˜ˆì‹œ](#unittest-ì˜ˆì‹œ)
  - [pytest ì˜ˆì‹œ](#pytest-ì˜ˆì‹œ)
  - [Github Actionì´ë€](#github-actionì´ë€)

* * *

## django ë°°í¬ ê´€ë ¨
- https://dailyheumsi.tistory.com/19


* * *

## AWS EC2 ssh ì—°ê²°í•˜ê¸°
- AWS EC2 í™”ë©´ì—ì„œ ì ‘ì†í•˜ê³ ì í•˜ëŠ” EC2ë¥¼ ì²´í¬í•˜ê³  "ì—°ê²°" ë²„íŠ¼ ëˆ„ë¥´ê¸°
- ê·¸ë¦¬ê³  í„°ë¯¸ë„ì—ì„œ pemí‚¤ê°€ ìˆëŠ” ë””ë ‰í„°ë¦¬ë¡œ ì´ë™ (ex. cd Downloads)

```terminal
chmod 400 impact-redis.pem
```

- ë‹¤ìŒê³¼ ê°™ì€ ëª…ë ¹ì–´ ì…ë ¥. **chmodëŠ” ìˆœì„œëŒ€ë¡œ ë‚˜/ê·¸ë£¹/ì „ì²´ì— ëŒ€í•œ ê¶Œí•œì„ ì˜ë¯¸í•œë‹¤. ì§€ê¸ˆì€ ë‚˜ì—ê²Œë§Œ ì½ê¸° ê¶Œí•œì„ ì£¼ëŠ” ê²ƒì´ë‹¤.**

```terminal
ssh -i "impact-redis.pem" ubuntu@ec2-13-209-43-88.ap-northeast-2.compute.amazonaws.com
```

- ê·¸ ë‹¤ìŒì—ëŠ” ìœ„ì™€ ê°™ì€ ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•´ì„œ í•´ë‹¹ EC2ì— sshë¡œ ì ‘ì†í•˜ê¸°


* * *

## uWSGIë€
- https://brownbears.tistory.com/16
- https://gangpro.github.io/til/2020/02/20/til-til-djangoAWS04/
- https://www.tuwlab.com/ece/26607
- https://twpower.github.io/43-run-uwsgi-by-using-ini-file
- https://blog.naver.com/PostView.nhn?isHttpsRedirect=true&blogId=parkjy76&logNo=221075843238&parentCategoryNo=&categoryNo=86&viewDate=&isShowPopularPosts=false&from=postView

- **ë¦¬ëˆ…ìŠ¤ ë°±ê·¸ë¼ìš´ë“œ ê´€ë ¨ ë‚´ìš©**
  - **ë¦¬ëˆ…ìŠ¤ì—ì„œ ë™ì‘í•˜ëŠ” í”„ë¡œì„¸ìŠ¤ëŠ” ë°±ê·¸ë¼ìš´ë“œ(background)/í¬ê·¸ë¼ìš´ë“œ(foreground) ì¤‘ í•˜ë‚˜ë¡œ ë™ì‘í•œë‹¤. ìš°ë¦¬ê°€ ì¼ë°˜ì ìœ¼ë¡œ ì‹¤í–‰í•˜ëŠ” í”„ë¡œê·¸ë¨ì€ ëŒ€ë¶€ë¶„ í¬ê·¸ë¼ìš´ë“œë¡œ ì‹¤í–‰ì‹œí‚¤ëŠ” ê²ƒì´ê³ , & í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•˜ë©´ íŠ¹ì • í”„ë¡œì„¸ìŠ¤ë¥¼ ë°±ê·¸ë¼ìš´ë“œë¡œ ë™ì‘í•˜ê²Œ í•  ìˆ˜ ìˆë‹¤.**
    - í¬ê·¸ë¼ìš´ë“œì˜ ê²½ìš°ì—ëŠ”, í”„ë¡œì„¸ìŠ¤ê°€ ì‹¤í–‰ë˜ëŠ” ë™ì•ˆ ëª…ë ¹ í”„ë¡¬í”„íŠ¸ ìƒì—ì„œ ì•„ë¬´ê²ƒë„ í•  ìˆ˜ ì—†ê²Œ ëœë‹¤.
    - ëª…ë ¹ì–´ ë’¤ì— &ë¥¼ ë¶™ì—¬ì„œ ì…ë ¥í•˜ë©´ í”„ë¡œì„¸ìŠ¤ê°€ ë°±ê·¸ë¼ìš´ë“œì—ì„œ ì•Œì•„ì„œ ëŒì•„ê°€ê³  ëª…ë ¹ í”„ë¡¬í”„íŠ¸ë¥¼ ê³„ì† ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ëœë‹¤.
    - ê°œë…ì ìœ¼ë¡œ ë©€í‹°íƒœìŠ¤í‚¹ì´ë¼ê³  ìƒê°í•˜ë©´ ëœë‹¤.
    - ê·¸ë¦¬ê³  kill ëª…ë ¹ì„ í†µí•´ ë°±ê·¸ë¼ìš´ë“œì—ì„œ ë™ì‘í•˜ê³  ìˆëŠ” í”„ë¡œê·¸ë¨ì„ ì¢…ë£Œì‹œí‚¬ ìˆ˜ ìˆë‹¤. 
  - https://jhnyang.tistory.com/395
  - https://itholic.github.io/linux-jobs-bg-fg/
  - https://zetawiki.com/wiki/%EB%A6%AC%EB%88%85%EC%8A%A4_%EB%B0%B1%EA%B7%B8%EB%9D%BC%EC%9A%B4%EB%93%9C_%EC%8B%A4%ED%96%89

* * *

## DNS ê·¸ë¦¬ê³  DNS ì„œë²„ë€
- **DNSëŠ” ì¼ë°˜ì ìœ¼ë¡œ ë„ë©”ì¸ì„ IPë¡œ ì „í™˜í•˜ì—¬ IP ë„¤íŠ¸ì›Œí¬ì— í†µì‹ í•´ì„œ ëª©ì ì§€ IPë¥¼ ì°¾ì•„ê°€ëŠ” ê³¼ì •ì„ ì˜ë¯¸í•œë‹¤. ì¦‰, ë„ë©”ì¸ê³¼ ëŒ€ì‘ëœ IP ì£¼ì†Œë¥¼ ì•Œë ¤ì¤€ë‹¤.**

![image](https://user-images.githubusercontent.com/95380638/175050768-a9c285d0-ab52-4ec8-92a8-95cd4622b547.png)

- ì¼ë°˜ì ì¸ DNSì˜ ì‘ë™ë°©ì‹ì€ ìœ„ì™€ ê°™ë‹¤. ì¶œì²˜ëŠ” [ë‹¤ìŒ](https://gentlysallim.com/dns%EB%9E%80-%EB%AD%90%EA%B3%A0-%EB%84%A4%EC%9E%84%EC%84%9C%EB%B2%84%EB%9E%80-%EB%AD%94%EC%A7%80-%EA%B0%9C%EB%85%90%EC%A0%95%EB%A6%AC/)ê³¼ ê°™ë‹¤.

- **ì›¹ì‚¬ì´íŠ¸ì˜ ë°ì´í„°ê°€ ì €ì¥ë˜ì–´ ìˆëŠ” í˜¸ìŠ¤íŒ… ì„œë²„ëŠ” ì¸í„°ë„· íšŒì„ ì´ ì—°ê²°ëœ ì»´í“¨í„°/ì¥ì¹˜ì´ê³  IP ì£¼ì†Œê°€ í• ë‹¹ë˜ì–´ ìˆë‹¤.** ê·¸ë˜ì„œ ì´ ì£¼ì†Œê°€ ì‹¤ì œ ì›¹ì‚¬ì´íŠ¸ ì£¼ì†Œë¼ê³  í•  ìˆ˜ ìˆë‹¤.(ex. AWSì˜ EC2 ì„œë²„)
  - **DNS ì„œë²„(ì¦‰, ë„¤ì„ì„œë²„)ëŠ” ì´ëŸ¬í•œ IP ì£¼ì†Œë¥¼ íŠ¹ì • ë„ë©”ì¸ ì£¼ì†Œì™€ ê°™ë‹¤ëŠ” ê¸°ë¡ì„ ì €ì¥í•´ë‘ê³  ì¸í„°ë„· ì‚¬ìš©ìë“¤ì´ ë„ë©”ì¸ ì£¼ì†Œë¥¼ ê²€ìƒ‰í–ˆì„ ë•Œ => IP ì£¼ì†Œë¡œ ì—°ê²°ë˜ë„ë¡ í•´ì£¼ëŠ” ê²ƒì´ë‹¤.**

<br>

- **DNS ì„œë²„ì˜ ê¸°ë³¸ì ì¸ IP ì—°ê²° ê³¼ì •**
  - ex) í•œ ì‚¬ìš©ìê°€ ë¸Œë¼ìš°ì €ì—ì„œ naver.comë¥¼ ê²€ìƒ‰í–ˆë‹¤ë©´, ë¨¼ì € DNS ì„œë²„ë¡œ ë„ë©”ì¸ ì£¼ì†Œê°€ ì „ë‹¬ì´ ëœë‹¤. ê·¸ë¦¬ê³  DNS ì„œë²„ ë‚´ë¶€ì—ì„œ ë„ë©”ì¸ ì£¼ì†Œë¥¼ í† ëŒ€ë¡œ "naver.com = 12.123.123.123" ì´ë¼ëŠ” í•­ëª©ì„ ì°¾ì•„ë‚´ê³  ë‹¤ì‹œ ë¸Œë¼ìš°ì €ì—ê²Œ 12.123.123.123ì˜ IP ì£¼ì†Œë¥¼ ê°–ê³  ìˆëŠ” í˜¸ìŠ¤íŒ… ì„œë²„(í•´ë‹¹ ì›¹ì‚¬ì´íŠ¸ ë°ì´í„°ê°€ ì €ì¥ëœê³³)ë¡œ ê°€ë¼ê³  ì§€ì‹œí•˜ëŠ” ê²ƒì´ë‹¤. ê·¸ëŸ¬ë©´ ë¸Œë¼ìš°ì €ê°€ ë‹¤ì‹œ í•´ë‹¹ IP ì£¼ì†Œë¡œ ì ‘ì†í•´ì„œ ì›¹ì‚¬ì´íŠ¸ê°€ ë³´ì´ê²Œ ëœë‹¤.

<br>

- **DNS ì„œë²„ ì¢…ë¥˜ êµ¬ë¶„**
  - **DNS ì„œë²„ê°€ ì´ˆê³ ì„±ëŠ¥ìœ¼ë¡œ ì„¸ìƒì— ë‹¨ í•˜ë‚˜ë§Œ ìˆë‹¤ë©´ ìœ„ ë‚´ìš© ê·¸ëŒ€ë¡œ ì´í•´í•˜ë©´ ë˜ê² ì§€ë§Œ, ê·¸ë ‡ê²Œ ê°„ë‹¨í•˜ì§€ì•Šë‹¤. ì„¸ìƒì— ë„ë©”ì¸ ìˆ˜ê°€ ì—„ì²­ ë§ê¸° ë•Œë¬¸ì— DNS ì„œë²„ ì¢…ë¥˜ë¥¼ ê³„ì¸µí™”í•´ì„œ ë‹¨ê³„ì ìœ¼ë¡œ ì²˜ë¦¬í•˜ê²Œ ëœë‹¤.**
  - ë„ë©”ì¸ì˜ ì´ ê´€ë¦¬ëŠ” ICANNì—ì„œ í•˜ê¸° ë•Œë¬¸ì—, DNS ì„œë²„ë„ ìµœìƒìœ„ ë„ë©”ì¸ì—ì„œ ê°œì¸ ë„ë©”ì¸ì˜ ì„œë¸Œ ë„ë©”ì¸ê¹Œì§€ ë„ë©”ì¸ ì´ë¦„ì˜ ë¶„ë¥˜ì™€ ë§ˆì°¬ê°€ì§€ë¡œ ë””ë ‰í† ë¦¬/ê³„ì¸µ í˜•íƒœë¡œ êµ¬ë¶„ëœë‹¤. ì—¬ê¸°ì„œ ICANNì€ ëª¨ë“  ì¸í„°ë„· ë„ë©”ì¸ê³¼ DNS ì„œë¹„ìŠ¤ë¥¼ ê´€ë¦¬í•˜ëŠ” ê¸°êµ¬ì´ë©°, ì¼ë°˜ì ìœ¼ë¡œ ICANN - ë ˆì§€ìŠ¤íŠ¸ë¦¬(Registry) - ë ˆì§€ìŠ¤íŠ¸ë¼(Registrar) - ë ˆì§€ìŠ¤íŠ¸ë€íŠ¸(Registrant)ì˜ êµ¬ì¡°, ê³„ì¸µ í˜•íƒœë¥¼ ê°€ì§€ê²Œ ëœë‹¤.
  - **Root DNS Server** : ICANNì´ ì§ì ‘ ê´€ë¦¬í•˜ëŠ” ì„œë²„ë¡œ, TLD DNS ì„œë²„ IPë“¤ì„ ì €ì¥í•´ë‘ê³  ì•ˆë‚´í•˜ëŠ” ì—­í• ì„ í•œë‹¤.
  - **TLD(ìµœìƒìœ„ ë„ë©”ì¸) DNS Server** : ë„ë©”ì¸ ë“±ë¡ ê¸°ê´€(Registry)ì´ ê´€ë¦¬í•˜ëŠ” ì„œë²„ë¡œ, Authoritative DNS ì„œë²„ ì£¼ì†Œë¥¼ ì €ì¥í•´ë‘ê³  ì•ˆë‚´í•˜ëŠ” ì—­í• ì„ í•œë‹¤. ì–´ë–¤ ë„ë©”ì¸ ë¬¶ìŒì´ ì–´ë–¤ Authoritative DNS Serverì— ì†í•˜ëŠ”ì§€ ì•„ëŠ” ì´ìœ ëŠ” ë„ë©”ì¸ íŒë§¤ ì—…ì²´(Registrar)ì˜ DNS ì„¤ì •ì´ ë³€ê²½ë˜ë©´ ë„ë©”ì¸ ë“±ë¡ ê¸°ê´€(Registry)ìœ¼ë¡œ ì „ë‹¬ì´ ë˜ê¸° ë•Œë¬¸ì´ë‹¤.
  - **Authoritative DNS Server** : ì‹¤ì œ ê°œì¸ ë„ë©”ì¸ê³¼ IP ì£¼ì†Œì˜ ê´€ê³„ê°€ ê¸°ë¡/ì €ì¥/ë³€ê²½ë˜ëŠ” ì„œë²„ì´ë‹¤. ê·¸ë˜ì„œ ê¶Œí•œì˜ ì˜ë¯¸ì¸ Authoritativeê°€ ë¶™ëŠ” ê²ƒì´ë‹¤. ì¼ë°˜ì ìœ¼ë¡œ ë„ë©”ì¸/í˜¸ìŠ¤íŒ… ì—…ì²´ì˜ â€˜ë„¤ì„ì„œë²„â€™ë¥¼ ë§í•˜ì§€ë§Œ, ê°œì¸ DNS ì„œë²„ êµ¬ì¶•ì„ í•œ ê²½ìš°ì—ë„ ì—¬ê¸°ì— í•´ë‹¹í•œë‹¤.
  - **Recursive DNS Server** : ì¸í„°ë„· ì‚¬ìš©ìê°€ ê°€ì¥ ë¨¼ì € ì ‘ê·¼í•˜ëŠ” DNS ì„œë²„ì´ë‹¤. ìœ„ 3ê°œì˜ DNS ì„œë²„ë¥¼ ë§¤ë²ˆ ê±°ì¹œë‹¤ë©´ íš¨ìœ¨ì´ ì¢‹ì§€ ì•Šê¸° ë•Œë¬¸ì—, í•œ ë²ˆ ê±°ì¹œ í›„ ì–»ì€ ë°ì´í„°ë¥¼ ì¼ì • ê¸°ê°„(TTL/Time to Live) ë™ì•ˆ ìºì‹œë¼ëŠ” í˜•íƒœë¡œ ì €ì¥í•´ ë‘ëŠ” ì„œë²„ì´ë‹¤. ì§ì ‘ ë„ë©”ì¸ê³¼ IP ì£¼ì†Œì˜ ê´€ê³„ë¥¼ ê¸°ë¡/ì €ì¥/ë³€ê²½í•˜ì§€ëŠ” ì•Šê³  ìºì‹œë§Œì„ ë³´ê´€í•˜ê¸° ë•Œë¬¸ì—, Authoritativeì™€ ë¹„êµë˜ëŠ” ì˜ë¯¸ë¡œ ë°˜ë³µì˜ Recursiveê°€ ë¶™ëŠ”ë‹¤. ëŒ€í‘œì ì¸ê²Œ KT/LG/SKì™€ ê°™ì€ ISP(í†µì‹ ì‚¬) DNS ì„œë²„ê°€ ìˆê³ , ë¸Œë¼ìš°ì € ìš°íšŒ ìš©ë„ë¡œ ë§ì´ ì“°ëŠ” êµ¬ê¸€ DNS, í´ë¼ìš°ë“œí”Œë ˆì–´ì™€ ê°™ì€ Public DNS ì„œë²„ê°€ ìˆë‹¤.
  - **ê¸°ë³¸ì ìœ¼ë¡œ ë¸Œë¼ìš°ì €ëŠ” ìºì‹œê°€ ì €ì¥ëœ Recursive ì„œë²„ë¥¼ ì‚¬ìš©í•˜ê³ , ì‹¤ì œ ë„¤ì„ì„œë²„ë¥¼ ì„¤ì •í•˜ëŠ” ê³³ì€ Authoritative ì„œë²„ë¼ëŠ” ì ë§Œ ì£¼ì˜í•´ì„œ ì´í•´í•˜ì. ë‚˜ë¨¸ì§€ ë‘ ì„œë²„ëŠ” ì»¨íŠ¸ë¡¤í•  ìˆ˜ ìˆëŠ” ì˜ì—­ë„ ì•„ë‹ˆê³  ì–¸ê¸‰ë˜ëŠ” ê²½ìš°ë„ ì ìœ¼ë‹ˆ ì „ë°˜ì ì¸ ì´í•´ë¥¼ ìœ„í•´ì„œë§Œ ì•Œê³  ìˆì.**

<br>

- **DNS ì„œë²„ì˜ ìì„¸í•œ IP ì—°ê²° ê³¼ì •**
  - ex) ë¸Œë¼ìš°ì €ì—ì„œ naver.comì„ ê²€ìƒ‰í•˜ê³  ì‚¬ìš©í•˜ê³  ìˆëŠ” í†µì‹ ì‚¬ì¸ KT DNS ì„œë²„ì—ê²Œ ë„ë©”ì¸ ì£¼ì†Œì— í•´ë‹¹í•˜ëŠ” IP ì£¼ì†Œë¥¼ ìš”ì²­(ë¸Œë¼ìš°ì € ê¸°ë³¸ DNS ì„¤ì •ì´ í†µì‹ ì‚¬ DNS ì„œë²„ì´ê¸° ë•Œë¬¸)
  - ISP ì„œë²„ì—ì„  ìºì‹œ ë°ì´í„°ê°€ ì—†ë‹¤ëŠ” ê±¸ í™•ì¸í•˜ê³  ë£¨íŠ¸ DNS ì„œë²„ì—ê²Œ ì–´ë””ë¡œ ê°€ì•¼ í•˜ëŠ”ì§€ ìš”ì²­(ìºì‹œê°€ ìˆë‹¤ë©´ ë°”ë¡œ Authoritative ì„œë²„ì—ê²Œ ìš”ì²­)
  - ë£¨íŠ¸ ì„œë²„ëŠ” TLD DNS ì„œë²„ ì£¼ì†Œë§Œ ê´€ë¦¬í•˜ê¸° ë•Œë¬¸ì—, xxx.com ë„ë©”ì¸ì„ ë³´ê³ ëŠ” COM ìµœìƒìœ„ ë„ë©”ì¸ì„ ê´€ë¦¬í•˜ëŠ” TLD DNS ì„œë²„ ì£¼ì†Œë¥¼ ì•ˆë‚´
  - ISP ì„œë²„ëŠ” COM ì„œë²„ì—ê²Œ ì–´ë””ë¡œ ê°€ì•¼ í•˜ëŠ”ì§€ ë‹¤ì‹œ ìš”ì²­
  - COM ì„œë²„ëŠ” ê°€ë¹„ì•„ DNS ì„œë²„ì—ì„œ í•´ë‹¹ ë„ë©”ì¸ì´ ê´€ë¦¬ë˜ê³  ìˆëŠ” ê±¸ í™•ì¸í•˜ê³  ì•ˆë‚´
  - ISP ì„œë²„ëŠ” ê°€ë¹„ì•„ ì„œë²„ì—ê²Œ ë˜ ë‹¤ì‹œ ìš”ì²­
  - ê°€ë¹„ì•„ ì„œë²„ëŠ” â€œnaver.com = 12.123.123.123â€ì´ë¼ëŠ” ì •ë³´ë¥¼ í™•ì¸í•˜ê³  ì´ IPë¥¼ ì•Œë ¤ì¤€ë‹¤. ë™ì‹œì— ISP ì„œë²„ëŠ” í•´ë‹¹ ì •ë³´ë¥¼ ìºì‹œë¡œ ê¸°ë¡
  - ISP ì„œë²„ëŠ” ë¸Œë¼ìš°ì €ì—ê²Œ 12.123.123.123ë¼ëŠ” IP ì£¼ì†Œë¥¼ ì•ˆë‚´
  - ë¸Œë¼ìš°ì €ëŠ” 12.123.123.123ë¼ëŠ” IP ì£¼ì†Œë¥¼ ê°–ê³  ìˆëŠ” í˜¸ìŠ¤íŒ… ì„œë²„ì—ê²Œ ì›¹ì‚¬ì´íŠ¸ë¥¼ ì¶œë ¥í•˜ë¼ê³  ìš”ì²­
  - ì´ì œ ë§ˆì§€ë§‰ìœ¼ë¡œ ìš°ë¦¬ê°€ ë³´ëŠ” ì›¹ì‚¬ì´íŠ¸ í™”ë©´ì´ ì¶œë ¥

* * *

## Collectstatic ëª…ë ¹ì–´
- https://crynut84.github.io/2016/11/14/django-static-file/


* * *

## CIë€
- CIë€, Continuous Integration ì¦‰, ì§€ì†ì ì¸ í†µí•©ì´ë¼ëŠ” ì˜ë¯¸ë¥¼ ê°€ì§€ê³  ìˆë‹¤.
  - CI ì‹œìŠ¤í…œì„ êµ¬ì¶•í•˜ê²Œ ë˜ë©´ -> CI ì„œë²„ëŠ” í˜•ìƒê´€ë¦¬ ì„œë²„ì— commitëœ ì†ŒìŠ¤ì½”ë“œë¥¼ ì£¼ê¸°ì ìœ¼ë¡œ í´ë§í•˜ì—¬ ì»´íŒŒì¼, ë‹¨ìœ„í…ŒìŠ¤íŠ¸, ì½”ë“œ ì¸ìŠ¤í™ì…˜ ë“±ì˜ ê³¼ì •ì„ ìˆ˜í–‰í•˜ë©° ì‹ ê·œ ë˜ëŠ” ìˆ˜ì •ëœ ì†ŒìŠ¤ì½”ë“œê°€ ê²°í•¨ì´ ìˆëŠ”ì§€ ì—¬ë¶€ë¥¼ ì§€ì†ì ìœ¼ë¡œ ê²€í† í•´ì¤€ë‹¤. ì´ë¥¼ í†µí•´ ì¡°ê¸°ì— ê²°í•¨ì„ ë°œê²¬í•˜ì—¬ í•´ê²°í•  ìˆ˜ ìˆë‹¤.
    - CI ì„œë²„ëŠ” ë¹Œë“œ í”„ë¡œì„¸ìŠ¤ë¥¼ ê´€ë¦¬í•˜ëŠ” ì„œë²„ë¡œ Jenkinsê°€ ì—¬ê¸°ì— ì†í•œë‹¤.
    - SCM, ì¦‰ ì†ŒìŠ¤ì½”ë“œ í˜•ìƒ ê´€ë¦¬ ì‹œìŠ¤í…œì€ Gitì´ ëŒ€í‘œì ì´ë‹¤. 

- **ë¹Œë“œ ìŠ¤í¬ë¦½íŠ¸ë¥¼ í†µí•œ CI ìë™í™” ìˆ˜í–‰ ì ˆì°¨**
  - ì†ŒìŠ¤ì½”ë“œë¥¼ ë°”ì´ë„ˆë¦¬ íŒŒì¼ë¡œ ì»´íŒŒì¼
  - ë°”ì´ë„ˆë¦¬ íŒŒì¼ì„ ë°°í¬ í˜•íƒœë¡œ íŒ¨í‚¤ì§•
  - ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ìˆ˜í–‰
  - ì •ì  ë¶„ì„ ìˆ˜í–‰
  - ë¶„ì„ ê²°ê³¼ ë¦¬í¬íŒ…
  - íŒ¨í‚¤ì§•í•œ íŒŒì¼ì„ í…ŒìŠ¤íŠ¸ ì„œë²„ì— ë°°í¬

- í„°ë¯¸ë„ì— í…ŒìŠ¤íŠ¸ ì»¤ë§¨ë“œë¥¼ CIì— ì…ë ¥í•´ë‘ë©´ â†’ í‘¸ì‰¬ë¥¼ ë°”íƒ•ìœ¼ë¡œ ë””íœë˜ì‹œ ì„¤ì¹˜ í›„ ì»¤ë§¨ë“œ ìì²´ë¥¼ ì…ë ¥í•˜ê²Œ ë˜ì–´ test.py ì‹¤í–‰ì‹œí‚¤ëŠ” ëª…ë ¹ì–´ê°€ ì‹¤í–‰ëœë‹¤.
- Github ìì²´ ë¡œì»¬ ê³µê°„ì— í™˜ê²½ì„ êµ¬ì„±í•´ì„œ ìš°ë¦¬ì˜ ì½”ë“œë¥¼ ì‹¤í–‰í•˜ê²Œ ëœë‹¤.

* * *

## ì»´íŒŒì¼ì´ë€
- ì»´í“¨í„°ê°€ ì´í•´í•  ìˆ˜ ìˆëŠ” ê¸°ê³„ì–´ë¡œ ë³€í™˜í•´ì£¼ëŠ” ê³¼ì •
- [íŒŒì´ì¬ì˜ ì»´íŒŒì¼ ê³¼ì • ì°¸ê³ ](https://velog.io/@chldppwls12/python-%EB%8F%99%EC%9E%91-%EB%B0%A9%EC%8B%9D)


* * *

## ë¹Œë“œë€
- ì†ŒìŠ¤ ì½”ë“œ íŒŒì¼ì„ ì»´í“¨í„°ì—ì„œ ì‹¤í–‰í•  ìˆ˜ ìˆëŠ” ë…ë¦½ì ì¸ í˜•íƒœë¡œ ë³€í™˜í•˜ëŠ” ê³¼ì •ê³¼ ê·¸ ê²°ê³¼
- ì¦‰, ì»´íŒŒì¼ ëœ ì½”ë“œë¥¼ ì‹¤ì œ ì‹¤í–‰í•  ìˆ˜ ìˆëŠ” ìƒíƒœë¡œ ë§Œë“œëŠ” ì¼ì„ Build ë¼ê³  í•œë‹¤. 
  - ë¹Œë“œ ë‹¤ìŒì— â€œí…ŒìŠ¤íŠ¸" â‡’ ê·¸ ë‹¤ìŒì— â€œë°°í¬" ê³¼ì •ì´ ì§„í–‰ëœë‹¤.


* * *

## ë””íœë˜ì‹œë€
- **Dependencyë€, ì˜ì¡´ì„±ì„ ì˜ë¯¸í•˜ëŠ”ë° ì´ëŠ” "ë‘ ê°œì˜ ì»´í¬ë„ŒíŠ¸ ì‚¬ì´ì˜ ì˜ì¡´ì„±ì´ë€ í•˜ë‚˜ì˜ ì»´í¬ë„ŒíŠ¸ì˜ ë³€ê²½ ì‚¬í•­ì´ ë‹¤ë¥¸ ì»´í¬ë„ŒíŠ¸ì—ë„ ì˜í–¥ì„ ë¯¸ì¹  ê°€ëŠ¥ì„±" ì„ ì˜ë¯¸í•œë‹¤.**
  - í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•  ë•Œ, ì‚¬ìš©ë˜ëŠ” íŒ¨í‚¤ì§€ë‚˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ versionì„ ëª…ì‹œí•´ë‘ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤. ì´ë ‡ê²Œ íŒŒì¼ë¡œ versionì„ ëª…ì‹œí•´ë‘ê³  íŒ¨í‚¤ì§€ë¥¼ ê°ì ì„¤ì¹˜í•  ë•Œ ë‹¬ë¼ì§€ëŠ” versionë¥¼ ì¼ì¹˜ì‹œí‚¬ ìˆ˜ ìˆë‹¤.
    - pipenvì—ì„œëŠ” git pull ì´í›„ì— pipenv installë¡œ version ì¼ì¹˜ì‹œí‚¤ê¸°
    - pipì—ì„œëŠ” requirements.txtë¥¼ ìƒì„±í•´ì„œ dependency ì¶©ëŒì„ í”¼í•  ìˆ˜ ìˆìŒ

- [python ì• í”Œë¦¬ì¼€ì´ì…˜ ì˜ì¡´ì„± ì£¼ì…](https://www.humphreyahn.dev/blog/dependency-injector#a4763f1a-5544-4dc6-88fe-bd3eebe28c54)




* * *

## MSAë€
- **ê¸°ì¡´ì—ëŠ” Monolithic Architectureì˜ êµ¬ì¡°ë¡œ, ì†Œí”„íŠ¸ì›¨ì–´ì˜ ëª¨ë“  êµ¬ì„±ìš”ì†Œê°€ í•œ í”„ë¡œì íŠ¸ì— í†µí•©ë˜ì–´ ìˆëŠ” í˜•íƒœì˜€ë‹¤.** 
  - ì›¹ ê°œë°œì„ ì˜ˆë¡œ ë“¤ë©´ ì›¹ í”„ë¡œê·¸ë¨ì„ ê°œë°œí•˜ê¸° ìœ„í•´ ëª¨ë“ˆë³„ë¡œ ê°œë°œì„ í•˜ê³ , ê°œë°œì´ ì™„ë£Œëœ ì›¹ ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ í•˜ë‚˜ì˜ ê²°ê³¼ë¬¼ë¡œ íŒ¨í‚¤ì§•í•˜ì—¬ ë°°í¬ë˜ëŠ” í˜•íƒœì´ë‹¤.
  - í•˜ì§€ë§Œ ì¼ì • ê·œëª¨ ì´ìƒì˜ ì„œë¹„ìŠ¤, í˜¹ì€ ìˆ˜ë°±ëª… ì´ìƒì˜ ê°œë°œìê°€ íˆ¬ì…ë˜ëŠ” í”„ë¡œì íŠ¸ì—ì„œ Monolithic ArchitectureëŠ” í•œê³„ë¥¼ ë³´ì¸ë‹¤.
  - ë˜í•œ, ìµœê·¼ ì–´í”Œë¦¬ì¼€ì´ì…˜ ê°œë°œ ë°©ë²•ì€ CI/CDë¥¼ í†µí•œ ê°œë°œë¶€í„° ë°°í¬ê¹Œì§€ ë¹ ë¥´ê²Œ ë°˜ì˜í•˜ëŠ” ì¶”ì„¸ì¸ë°, ë§ì€ ì‚¬ëŒì´ í•˜ë‚˜ì˜ ì‹œìŠ¤í…œì„ ê°œë°œí•˜ì—¬ ë°°í¬í•˜ê¸° ë•Œë¬¸ì— ì‹œê°„ì´ ì˜¤ë˜ ê±¸ë¦°ë‹¤.

### MSA ê°œë…
- **MicroService Architectureì˜ ì¤„ì„ë§ì„ ì˜ë¯¸.**
  - ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ë€ ì‘ê³ , ë…ë¦½ì ìœ¼ë¡œ ë°°í¬ ê°€ëŠ¥í•œ ê°ê°ì˜ ê¸°ëŠ¥ì„ ìˆ˜í–‰í•˜ëŠ” ì„œë¹„ìŠ¤ë¡œ êµ¬ì„±ëœ í”„ë ˆì„ì›Œí¬ë¼ê³  í•  ìˆ˜ ìˆë‹¤.
  - ë§ˆì´í¬ë¡œ ì„œë¹„ìŠ¤ëŠ” ì„œë¹„ìŠ¤ì˜ end-point(ì ‘ê·¼ì )ì„ API í˜•íƒœë¡œ ì™¸ë¶€ì— ë…¸ì¶œí•˜ê³ , ì‹¤ì§ˆì ì¸ ì„¸ë¶€ ì‚¬í•­ì€ ëª¨ë‘ ì¶”ìƒí™”í•œë‹¤. ë‚´ë¶€ì˜ êµ¬í˜„ ë¡œì§, ì•„í‚¤í…ì²˜ì™€ í”„ë¡œê·¸ë˜ë° ì–¸ì–´, ë°ì´í„°ë² ì´ìŠ¤, í’ˆì§ˆ ìœ ì§€ ì²´ê³„ì™€ ê°™ì€ ê¸°ìˆ ì ì¸ ì‚¬í•­ë“¤ì€ ì„œë¹„ìŠ¤ APIì— ì˜í•´ ì² ì €í•˜ê²Œ ê°€ë ¤ì§„ë‹¤.

### MSA ì¥ì 
- ê°ê°ì˜ ì„œë¹„ìŠ¤ëŠ” ëª¨ë“ˆí™”ê°€ ë˜ì–´ìˆìœ¼ë©° ì´ëŸ¬í•œ ëª¨ë“ˆë¼ë¦¬ëŠ” RPC ë˜ëŠ” message-driven APIë“±ì„ ì´ìš©í•˜ì—¬ í†µì‹ í•œë‹¤. ì´ëŸ¬í•œ MSAëŠ” ê°ê° ê°œë³„ì˜ ì„œë¹„ìŠ¤ ê°œë°œì„ ë¹ ë¥´ê²Œ í•˜ë©°, ìœ ì§€ë³´ìˆ˜ë„ ì‰½ê²Œí•  ìˆ˜ ìˆë„ë¡ í•œë‹¤. 
- íŒ€ ë‹¨ìœ„ë¡œ ì ì ˆí•œ ìˆ˜ì¤€ì—ì„œ ê¸°ìˆ  ìŠ¤íƒì„ ë‹¤ë¥´ê²Œ ê°€ì ¸ê°ˆ ìˆ˜ ìˆë‹¤. íšŒì‚¬ê°€ javaì˜ spring ê¸°ë°˜ì´ë¼ë„ MSAë¥¼ ì ìš©í•˜ë©´ node.jsë¡œ ë¸”ë¡ì²´ì¸ ê°œë°œ ëª¨ë“ˆì„ ì—°ë™í•¨ì— ë¬´ë¦¬ê°€ ì—†ë‹¤.Â 
- ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ëŠ” ì„œë¹„ìŠ¤ë³„ë¡œ ë…ë¦½ì  ë°°í¬ê°€ ê°€ëŠ¥í•˜ë‹¤. ë”°ë¼ì„œ ì§€ì†ì ì¸ ë°°í¬ CDë„ ëª¨ë†€ë¡œì‹ì— ë¹„í•´ì„œ ê°€ë³ê²Œ í•  ìˆ˜ ìˆë‹¤.

### MSA ë‹¨ì 
- MSAëŠ” ëª¨ë†€ë¦¬ì‹ì— ë¹„í•´ ìƒëŒ€ì ìœ¼ë¡œ ë§ì´ ë³µì¡í•˜ë‹¤. ì„œë¹„ìŠ¤ê°€ ëª¨ë‘ ë¶„ì‚°ë˜ì–´ ìˆê¸° ë•Œë¬¸ì— ê°œë°œìëŠ” ë‚´ë¶€ ì‹œìŠ¤í…œì˜ í†µì‹ ì„ ì–´ë–»ê²Œ ê°€ì ¸ê°€ì•¼ í• ì§€ ì •í•´ì•¼í•œë‹¤. ë˜í•œ, í†µì‹ ì˜ ì¥ì• ì™€ ì„œë²„ì˜ ë¶€í•˜ ë“±ì´ ìˆì„ ê²½ìš° ì–´ë–»ê²Œ transactionì„ ìœ ì§€í• ì§€ ê²°ì •í•˜ê³  êµ¬í˜„í•´ì•¼í•œë‹¤.Â 
- í†µí•© í…ŒìŠ¤íŠ¸ê°€ ì–´ë µë‹¤. ê°œë°œ í™˜ê²½ê³¼ ì‹¤ì œ ìš´ì˜í™˜ê²½ì„ ë™ì¼í•˜ê²Œ ê°€ì ¸ê°€ëŠ” ê²ƒì´ ì‰½ì§€ ì•Šë‹¤.Â 

- [ê´€ë ¨ ë¸”ë¡œê·¸](https://wooaoe.tistory.com/57)

* * *

## unittest ì˜ˆì‹œ
```python
import unittest                               # unittest ë¼ì´ë¸ŒëŸ¬ë¦¬ import
from django.test import TestCase, Client      # Clientë¥¼ ì´ìš©í•´ì„œ í´ë¼ì´ì–¸íŠ¸ Requestì˜ ì‘ë‹µì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤

class SampleTests(unittest.TestCase):         # TestClass ë§Œë“¤ê³  unittest.TestCase classì—ì„œ ìƒì†

# setUpClassì™€ tearDownClassì€ Class ìƒì„±ê³¼ ì†Œë©¸ ì‹œ í˜¸ì¶œë˜ëŠ” í•¨ìˆ˜
@classmethod
    def setUpClass(cls):  
    ...
    

@classmethod
    def tearDownClass(cls):
    

# Testcastì— ëŒ€í•œ Texture í•¨ìˆ˜ì¸ setUp(self)ì™€ tearDown(self)ë¥¼ êµ¬í˜„Â  
# setUp(self)ì™€ tearDown(self) í•¨ìˆ˜ëŠ” ê°ì²´ì˜ ê°’ì„ selfë¡œ í†µí•´ì„œ ì ‘ê·¼ ê°€ëŠ¥ / ê° TestCase í•¨ìˆ˜ê°€ ì‹¤í–‰í•  ë•Œë§ˆë‹¤ ì•ë’¤ë¡œ í˜¸ì¶œ

# ì—¬ê¸°ì„œ ìš°ë¦¬ê°€ ì •í•œ ëª¨ë¸ì˜ ê°ì²´ë“¤ì„ ìƒ˜í”Œë¡œ ëª‡ ê°œ create í•˜ê¸° -> setUpì—ì„œ í•„ìš”í•˜ê³  ì‹¤í—˜í•  ë³€ìˆ˜ë“¤ì„ ë¯¸ë¦¬ ìƒì„±í•´ë†“ëŠ” ë”ë¯¸ë°ì´í„° ì‘ì—… ì§„í–‰
def setUp(self):
  self.client = Client()
  ...


def setUp(self):
  ...


# Testcase í•¨ìˆ˜ë¥¼ êµ¬í˜„ / í•¨ìˆ˜ ì´ë¦„ì´ test_ ë¡œ ì‹œì‘í•˜ë©´ TestRunnerê°€ ì•Œì•„ì„œ ì‹¤í–‰

# ì—¬ê¸°ì„œ Serializer ë‚´ë¶€ì— ì •ì˜í•œ ë©”ì†Œë“œë“¤ì„ í…ŒìŠ¤íŠ¸
# ex) ìš°ë¦¬ê°€ ìœ„ì—ì„œ ëª¨ë¸ë“¤ì˜ ê°ì²´ë“¤ì„ ìƒì„±í•´ ë†¨ìœ¼ë‹ˆ, ê·¸ ê°ì²´ í•˜ë‚˜ë¥¼ objects.filterë¡œ í•´ì„œ ê°€ì ¸ì˜¤ê³ , ì‹¤ì œë¡œ Serialzerì— ê°ì²´ë¥¼ ë„£ì€ ê²°ê³¼ê°’ê³¼ vs ìš°ë¦¬ê°€ ì •ì˜í•œ í•„ë“œëª… ë¦¬ìŠ¤íŠ¸ì™€ ê°™ì€ì§€ ë¹„êµ

def test_runs_1(self):
  ...

def test_runs_2(self):
  ...

# APIviewì˜ urlê³¼ viewê°€ ì˜ ë§¤ì¹˜ë˜ì—ˆëŠ”ì§€ test case
def test_url_resolves_to_rain_fall_and_sewer_pipe_api_view(self):
        '''urlê³¼ viewê°€ ì˜ ë§¤ì¹˜ë˜ì—ˆëŠ”ì§€ Test'''

        found = resolve('/api/data/v1/rainfall-and-sewerpipe-info/<gubn>/<datetime_info>/')

        self.assertEqual(found.func.__name__, RainfallAndSewerPipeInfoApiView.as_view().__name__)


# ApiViewì˜ GET ìš”ì²­ test case
def test_rain_fall_and_sewer_pipe_api_view_get_method(self):
        '''RainfallAndSewerPipeInfoApiViewìœ¼ë¡œ GET ìš”ì²­ TEST'''

        response = self.client.get('/api/data/v1/rainfall-and-sewerpipe-info/01/202112020112/')
        response_json = json.loads(response.content)

        self.assertEqual(response.status_code, 200)
        self.assertNotEqual(response_json['name'], 'ì–‘ì²œêµ¬')
        self.assertEqual(len(response_json['rainfall_data']), 2)
        self.assertEqual(len(response_json['sewer_pipe_data']), 2)


# ë§ˆì§€ë§‰ìœ¼ë¡œ unittest.main() í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ì—¬ TestRunnerë¥¼ ì‹¤í–‰
# í„°ë¯¸ë„ì— python3 ë””ë ‰í„°ë¦¬/tests.py ì´ëŸ°ì‹ìœ¼ë¡œ ì…ë ¥í•´ì„œ í…ŒìŠ¤íŠ¸ ê²°ê³¼ í™•ì¸
if __name__ == '__main__':
    unittest.main()
    
```

- **urlê³¼ viewê°€ ì˜ ë§¤ì¹˜ë˜ì—ˆëŠ”ì§€ Testí•˜ëŠ” ì½”ë“œì—ì„œëŠ” resolve í•¨ìˆ˜ë¡œ í•´ë‹¹ url pathë¡œ ì ‘ê·¼í•´ì„œ, í•´ë‹¹ url pathê°€ ì‹¤í–‰ì‹œí‚¤ëŠ” í•¨ìˆ˜ì˜ \_\_name\__ ë³€ìˆ˜ê°€ RainfallAndSewerPipeInfoApiView.as_view()ì²˜ëŸ¼ ì‹¤í–‰ì‹œí‚¤ëŠ” APIviewì˜ \_\_name\__ë³€ìˆ˜ì™€ ê°™ì€ì§€ ê²€í† í•˜ê²Œ ëœë‹¤.**

- [ê´€ë ¨ ë¸”ë¡œê·¸](https://live-jh.tistory.com/44)


- **ë‹¤ë¥¸ unittest ì˜ˆì‹œ**
```python
import json, requests, jwt

from django.test   import TestCase, Client
from unittest.mock import patch, MagicMock

from .models     import User
from my_settings import SECRET_KEY, ALGORITHM

class UserTest(TestCase):
    def setUp(self):
        User.objects.create(
            id       = 1,
            kakao_id = 123456789,
            email    = '123456789@gmail.com',
            point    = 10000000
        )

    def tearDown(self):
        User.objects.all().delete()

    @patch("users.views.requests")
    def test_kakaologinview_get_success(self, mocked_requests):
        client = Client()

        class MockedResponse:
            def json(self):
                return {
                    "id":123456789,
                    "kakao_account": {
                        "email" : "123456789@gmail.com"
                        }
                    }

        mocked_requests.get = MagicMock(return_value = MockedResponse())
        headers             = {"HTTP_Authorization": "3242343242343234"}
        response            = client.get("/users/login", headers)
        access_token        = jwt.encode({'user_id': 1}, SECRET_KEY, ALGORITHM)

        self.assertEqual(response.status_code, 201)
        self.assertEqual(response.json(), {'access_token': access_token})

    @patch("users.views.requests")
    def test_kakaologinview_get_keyerror(self, mocked_requests):
        client = Client()


        class MockedResponse:
            def json(self):
                return {
                    "wrong_id":123456789,
                    "kakao_account": {
                        "email" : "123456789@gmail.com"
                        }
                    }

        mocked_requests.get = MagicMock(return_value = MockedResponse())
        headers             = {"HTTP_Authorization": "3242343242343234"}
        response            = client.get("/users/login", headers)

        self.assertEqual(response.status_code, 400)
```


* * * 

## pytest ì˜ˆì‹œ
- ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ì¸ pytestë¥¼ ì´ìš©í•´ì„œ unittestë¥¼ êµ¬í˜„í•´ë³´ê¸°
- êµ³ì´ pytestë¥¼ ì‚¬ìš©í•˜ëŠ” ì´ìœ ëŠ”, python3ì—ì„œ unittestë³´ë‹¤ ì‚¬ìš©í•˜ê¸°ê°€ í›¨ì”¬ ì§ê´€ì ì´ê¸° ë•Œë¬¸. ë˜í•œ, unittest ì½”ë“œë„ ë” ê°„ê²°í•˜ê²Œ ë§Œë“¤ê¸° ì‰½ë‹¤.

```python
# ì²˜ìŒ ì„¤ì¹˜ëŠ” 
pip install pytest (pipenv install pytest)
```

- pytestëŠ” íŒŒì¼ ì´ë¦„ ì•ë¶€ë¶„ì— test_ ë¼ê³  ë˜ì–´ìˆëŠ” íŒŒì¼ë“¤ë§Œ í…ŒìŠ¤íŠ¸ íŒŒì¼ì´ë¼ê³  ì¸ì‹í•˜ê³  ì‹¤í–‰í•œë‹¤. ex) test_example.py
  - í•¨ìˆ˜ë„ ë§ˆì°¬ê°€ì§€ì´ë‹¤. í•¨ìˆ˜ ì´ë¦„ ì•ë¶€ë¶„ì— test_ ë¼ê³  ë˜ì–´ìˆëŠ” í•¨ìˆ˜ë“¤ë§Œ ì‹¤ì œ unittest í•¨ìˆ˜ë¡œ ì¸ì‹í•˜ê³  ì‹¤í–‰ì‹œí‚¨ë‹¤.



* * *

## Github Actionì´ë€
- Github Actionì´ë€ Github ì €ì¥ì†Œë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì†Œí”„íŠ¸ì›¨ì–´ ê°œë°œ Workflowë¥¼ ìë™í™” í•  ìˆ˜ ìˆëŠ” ë„êµ¬ì´ë‹¤. 
- **ì¦‰, Github Action ì—­ì‹œ ì¸ìŠ¤í„´ìŠ¤(ì»´í“¨í„°)ì—ì„œ ê°€ìƒí™˜ê²½ì„ êµ¬ì¶•í•˜ê²Œ ëœë‹¤. ì—¬ê¸°ì— ìë™í™” í”„ë¡œì„¸ìŠ¤ë„ ëŒì•„ê°ˆ ìˆ˜ ìˆê³  ìë™í™” í•  ë•Œë§ˆë‹¤ OS(ì˜ˆë¥¼ ë“¤ì–´ ìš°ë¶„íˆ¬), python, pipenv ì„¤ì¹˜ë¥¼ ì§„í–‰**
- Github ë‚´ë¶€ì—ì„œ í”„ë¡œì íŠ¸ë¥¼ ë¹Œë“œ, í…ŒìŠ¤íŠ¸, ë¦´ë¦¬ì¦ˆ ë˜ëŠ” ë°°í¬ë¥¼ ì§€ì›í•˜ëŠ” ê¸°ëŠ¥ìœ¼ë¡œì„œ, Githubì—ì„œ ì œê³µí•˜ëŠ” CI/CD ë„êµ¬ë¼ê³  ìƒê°í•˜ë©´ ëœë‹¤.

### GitHub Action ì£¼ìš” ê°œë…
- **Workflow**
  - **WorkflowëŠ” í”„ë¡œì íŠ¸ë¥¼ ë¹Œë“œ, í…ŒìŠ¤íŠ¸, íŒ¨í‚¤ì§€, ë¦´ë¦¬ìŠ¤ ë˜ëŠ” ë°°í¬í•˜ê¸° ìœ„í•œ ì „ì²´ì ì¸ í”„ë¡œì„¸ìŠ¤ì´ë‹¤.**
  - WorkflowëŠ” ì—¬ëŸ¬ê°œì˜ Jobìœ¼ë¡œ êµ¬ì„±ë˜ì–´ìˆê³  eventê¸°ë°˜ìœ¼ë¡œ ë™ì‘í•œë‹¤.
  - WorkflowëŠ” ìµœìƒìœ„ ê°œë…ì´ë‹¤.
  - ë‚˜ë§Œì˜ ë™ì‘ì„ ì •ì˜í•œ Workflow fileì„ ë§Œë“¤ì–´ ì „ë‹¬í•˜ë©´ Github Actionì´ ì‹¤í–‰í•œë‹¤.
  - **Workflow íŒŒì¼ì€ ymlìœ¼ë¡œ ì‘ì„±ë˜ê³ , Github Repositoryì˜ .github/workflows í´ë” ì•„ë˜ì— ì €ì¥ëœë‹¤.**

- **Event**
  - **Workflowë¥¼ Trigger(ì‹¤í–‰)í•˜ëŠ” íŠ¹ì • í™œë™ì´ë‚˜ ê·œì¹™**
  - ì˜ˆë¥¼ ë“¤ì–´ ë‹¤ìŒê³¼ ê°™ì€ ìƒí™©ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
    - íŠ¹ì • ë¸Œëœì¹˜ë¡œ Push
    - íŠ¹ì • ë¸Œëœì¹˜ë¡œ Pull Request
    - íŠ¹ì • ì‹œê°„ëŒ€ì— ë°˜ë³µ(Cron)
    - Webhookì„ ì‚¬ìš©í•´ ì™¸ë¶€ ì´ë²¤íŠ¸ë¥¼ í†µí•´ ì‹¤í–‰

- **Job**
  - **Jobì€ ì—¬ëŸ¬ Stepìœ¼ë¡œ êµ¬ì„±ë˜ê³ , ê°€ìƒ í™˜ê²½ì˜ ì¸ìŠ¤í„´ìŠ¤ì—ì„œ ì‹¤í–‰ëœë‹¤.**
  - ë‹¤ë¥¸ Jobì— ì˜ì¡´ ê´€ê³„ë¥¼ ê°€ì§ˆ ìˆ˜ ìˆê³ , ë…ë¦½ì ìœ¼ë¡œ ë³‘ë ¬ ì‹¤í–‰ë„ ê°€ëŠ¥í•˜ë‹¤.

- **Step**
  - **Stepì€ ìˆœì°¨ì ìœ¼ë¡œ ëª…ë ¹ì–´ë¥¼ ìˆ˜í–‰í•œë‹¤.**
  - Taskë“¤ì˜ ì§‘í•©ìœ¼ë¡œ, ì»¤ë§¨ë“œë¥¼ ë‚ ë¦¬ê±°ë‚˜ actionì„ ì‹¤í–‰í•  ìˆ˜ ìˆë‹¤.

- **Action**
  - **Workflowì˜ ê°€ì¥ ì‘ì€ ë¸”ëŸ­**
  - Jobì„ ë§Œë“¤ê¸° ìœ„í•´ Stepë“¤ì„ ì—°ê²°í•  ìˆ˜ ìˆë‹¤.
  - ì¬ì‚¬ìš©ì´ ê°€ëŠ¥í•œ ì»´í¬ë„ŒíŠ¸
  - ê°œì¸ì ìœ¼ë¡œ ë§Œë“  Actionì„ ì‚¬ìš©í•  ìˆ˜ë„ ìˆê³ , Marketplaceì— ìˆëŠ” ê³µìš© Actionì„ ì‚¬ìš©í•  ìˆ˜ë„ ìˆìŒ(Github Marketplaceì™€ Github Actions Repositoryì—ì„œ í™•ì¸ ê°€ëŠ¥)

- **Runner**
  - **Gitbub Action Runner ì–´í”Œë¦¬ì¼€ì´ì…˜ì´ ì„¤ì¹˜ëœ ë¨¸ì‹ ìœ¼ë¡œ, Workflowê°€ ì‹¤í–‰ë  ì¸ìŠ¤í„´ìŠ¤**
  - **Githubì—ì„œ í˜¸ìŠ¤íŒ…í•´ì£¼ëŠ” Github-hosted runnerì™€ ì§ì ‘ í˜¸ìŠ¤íŒ…í•˜ëŠ” Self-hosted runnerë¡œ ë‚˜ë‰¨**
  - Github-hosted runnerëŠ” Azureì˜ Standard_DS2_v2ë¡œ vCPU 2, ë©”ëª¨ë¦¬ 7GB, ì„ì‹œ ìŠ¤í† ë¦¬ì§€ 14GB


### CI Workflow ì ìš©
- [í•´ë‹¹ ë¸”ë¡œê·¸ ì°¸ê³ í•˜ê¸°](https://insight-bgh.tistory.com/m/473)

- **Master ë¸Œëœì¹˜ì— Push ë˜ëŠ” Pull Requestê°€ ì˜¬ ê²½ìš° ì‹¤í–‰ë˜ëŠ” CIë¼ëŠ” ì´ë¦„ì„ ê°–ëŠ” Workflow yml íŒŒì¼ ì˜ˆì‹œ**
```yml
name: Java CI with Gradle

on:
  push:
    branches: [ master ]
  pull_request:
    branches: [ master ]

jobs:
  build:

    runs-on: ubuntu-latest

    steps:
    - uses: actions/checkout@v2
    - name: Set up JDK 11
      uses: actions/setup-java@v2
      with:
        java-version: '11'
        distribution: 'adopt'
        
    - name: Grant execute permission for gradlew
      run: chmod +x gradlew
      
    - name: Build with Gradle
      run: ./gradlew build
```

- **on ë¶€ë¶„ì€ ì´ë²¤íŠ¸ë¥¼ ì •ì˜í•˜ëŠ” ë¶€ë¶„ì´ë‹¤.** 
  - ì—¬ê¸°ì„œëŠ” master branchë¡œ push ë˜ëŠ” pull requestê°€ ì¼ì–´ë‚  ê²½ìš° í•´ë‹¹ workflowê°€ ì‹¤í–‰ëœë‹¤.

- **jobs ë¶€ë¶„ì„ ì‚´í´ë³´ì.**
  - ìœ„ì˜ íŒŒì¼ì€ buildë¼ëŠ” jobì„ ìƒì„±í•˜ê³ , ê·¸ ì•„ë˜ì— 3ê°œì˜ stepì´ ì¡´ì¬í•˜ëŠ” êµ¬ì¡°ì´ë‹¤.
  - runs-onì€ ì–´ë–¤ OSì—ì„œ ì‹¤í–‰ë ì§€ ì§€ì •í•œë‹¤.
  - stepsì˜ usesëŠ” ì–´ë–¤ ì•¡ì…˜ì„ ì‚¬ìš©í• ì§€ ì§€ì •í•œë‹¤. ì´ë¯¸ ë§Œë“¤ì–´ì§„ ì•¡ì…˜ì„ ì‚¬ìš©í•  ë•Œ ì§€ì •í•œë‹¤.


### Pythonì— Github Action ì ìš© ì˜ˆì‹œ
- https://zzsza.github.io/development/2020/06/06/github-action/
  - pytest ì ìš© ë‚´ìš©ë„ í¬í•¨









